/*
 * jQuery Booklet Plugin
 * Copyright (c) 2010 W. Grauvogel (http://builtbywill.com/)
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version : 1.1.1
 *
 * Originally based on the work of:
 *	1) Charles Mangin (http://clickheredammit.com/pageflip/)
 */
(function(b){b.fn.booklet=function(c){var d=b.extend({},b.fn.booklet.defaults,c);return b(this).each(function(){var j,e,h,k,f,g;if(typeof c=="string"){if(b(this).data("booklet")){j=c.toLowerCase();h=b.fn.booklet.interfaces[b(this).data("id")];if(j=="next"){h.next()}else{if(j=="prev"){h.prev()}}}}else{if(typeof c=="number"){if(b(this).data("booklet")){g=c;h=b.fn.booklet.interfaces[b(this).data("id")];if(g%2!=0){g-=1}h.gotoPage(g)}}else{e=b.extend(true,{},d);k=b.fn.booklet.interfaces.length;for(f=0;f<k;f++){if(typeof b.fn.booklet.interfaces[f]=="undefined"){k=f;break}}h=new a(b(this),e,k);b.fn.booklet.interfaces[k]=h}}})};function a(ai,ak,K){var av,aB,X,E,T,P,M,I,s,aj,an,G,S,R,Y,e,aC=new Array(),O=new Array(),J,ah,af,ae,ac,aa,aD,am,N,w,c,ax,at,t,ar,aq,W,ap,ao,q,H,F,al,C,f,d,o,ad,u,z,v,au,A,n,y,U,r,aA,x,l,aw='<div class="b-page-empty" title="" rel=""></div>',az='<div class="b-page-blank" title="" rel=""></div>';aj=false;e=false;an=false;G=S=false;av=this;av.options=ak;av.id=K;av.hash="";aB=av.options;X=ai.addClass("booklet");E=X.children(".b-load");m();X.data("booklet",true);X.data("id",K);X.data("total",E.children().length);if(!aB.width){aB.width=X.width()}else{if(typeof aB.width=="string"&&aB.width.indexOf("%")!=-1){aB.wPercent=true;aB.wOrig=aB.width;aB.width=(aB.width.replace("%","")/100)*parseFloat(X.parent().css("width"))}}if(!aB.height){aB.height=X.height()}else{if(typeof aB.height=="string"&&aB.height.indexOf("%")!=-1){aB.hPercent=true;aB.hOrig=aB.height;aB.height=(aB.height.replace("%","")/100)*parseFloat(X.parent().css("height"))}}X.width(aB.width);X.height(aB.height);aB.pWidth=aB.width/2;aB.pWidthN="-"+(aB.pWidth)+"px";aB.pWidthH=aB.pWidth/2;aB.pHeight=aB.height;aB.pTotal=E.children().length;aB.speedH=aB.speed/2;if(aB.direction=="LTR"){aB.curr=0}else{if(aB.direction=="RTL"){aB.curr=aB.pTotal-2}}if(!isNaN(aB.startingPage)&&aB.startingPage<=aB.pTotal&&aB.startingPage>0){if((aB.startingPage%2)!=0){aB.startingPage--}aB.curr=aB.startingPage}if(aB.closed&&aB.autoCenter){if(aB.curr==0){X.width(aB.pWidth)}else{if(aB.curr>=aB.pTotal-2){X.width(aB.pWidth)}}}if(aB.name){document.title=aB.name}else{aB.name=document.title}if(aB.shadows){aB.shadowTopFwdWidth="-"+aB.shadowTopFwdWidth+"px";aB.shadowTopBackWidth="-"+aB.shadowTopBackWidth+"px"}if(aB.menu){o=b(aB.menu).addClass("b-menu");I=aB.curr;if(aB.pageSelector){u=b('<div class="b-selector b-selector-page"><span class="b-current">'+(I+1)+" - "+(I+2)+"</span></div>").appendTo(o);z=b("<ul></ul>").appendTo(u).empty().css("height","auto");for(P=0;P<aB.pTotal;P+=2){M=P;nums=(M+1)+"-"+(M+2);if(aB.closed){M--;if(P==0){nums="1"}else{if(P==aB.pTotal-2){nums=aB.pTotal-2}else{nums=(M+1)+"-"+(M+2)}}if(aB.covers){M--;if(P==0){nums=""}else{if(P==aB.pTotal-2){nums=""}else{nums=(M+1)+"-"+(M+2)}}}}if(aB.direction=="RTL"){nums=(Math.abs(M-aB.pTotal)-1)+" - "+((Math.abs(M-aB.pTotal)));if(aB.closed){if(P==aB.pTotal-2){nums="1"}else{if(P==0){nums=aB.pTotal-2}else{nums=(Math.abs(M-aB.pTotal)-3)+" - "+((Math.abs(M-aB.pTotal)-2))}}if(aB.covers){if(P==aB.pTotal-2){nums=""}else{if(P==0){nums=""}else{nums=(Math.abs(M-aB.pTotal)-5)+" - "+((Math.abs(M-aB.pTotal)-4))}}}}u.find(".b-current").text(nums);au=b('<li><a href="#/page/'+(P+1)+'" id="selector-page-'+P+'"><span class="b-text">'+aC[P+1]+'</span><span class="b-num">'+nums+"</span></a></li>").prependTo(z)}else{if(P==0){u.find(".b-current").text(nums)}au=b('<li><a href="#/page/'+(P+1)+'" id="selector-page-'+P+'"><span class="b-text">'+aC[P]+'</span><span class="b-num">'+nums+"</span></a></li>").appendTo(z)}A=au.find("a");if(!aB.hash){A.click(function(){if(aB.direction=="RTL"){u.find(".b-current").text(b(this).find(".b-num").text())}n=parseInt(b(this).attr("id").replace("selector-page-",""));av.gotoPage(n);return false})}}v=z.height();z.css({height:0,"padding-bottom":0});u.unbind("hover").hover(function(){z.stop().animate({height:v,paddingBottom:10},500)},function(){z.stop().animate({height:0,paddingBottom:0},500)})}if(aB.chapterSelector){ad=O[aB.curr];if(ad==""){ad=O[aB.curr+1]}y=b('<div class="b-selector b-selector-chapter"><span class="b-current">'+ad+"</span></div>").appendTo(o);U=b("<ul></ul>").appendTo(y).empty().css("height","auto");for(P=0;P<aB.pTotal;P+=1){if(O[P]!=""&&typeof O[P]!="undefined"){if(aB.direction=="RTL"){M=P;if(M%2!=0){M--}y.find(".b-current").text(O[P]);aA=b('<li><a href="#/page/'+(M+1)+'" id="selector-page-'+(M)+'"><span class="b-text">'+O[P]+"</span></a></li>").prependTo(U)}else{aA=b('<li><a href="#/page/'+(P+1)+'" id="selector-page-'+P+'"><span class="b-text">'+O[P]+"</span></a></li>").appendTo(U)}x=aA.find("a");if(!aB.hash){x.click(function(){if(aB.direction=="RTL"){y.find(".b-current").text(b(this).find(".b-text").text())}l=parseInt(b(this).attr("id").replace("selector-page-",""));av.gotoPage(l);return false})}}}r=U.height();U.css({height:0,"padding-bottom":0});y.unbind("hover").hover(function(){U.stop().animate({height:r,paddingBottom:10},500)},function(){U.stop().animate({height:0,paddingBottom:0},500)})}}b.extend(av,{next:function(){if(!aj){av.gotoPage(aB.curr+2)}},prev:function(){if(!aj){av.gotoPage(aB.curr-2)}},gotoPage:function(h){if(h>aB.curr&&h<aB.pTotal&&h>=0&&!aj){aj=true;s=h-aB.curr;aB.curr=h;aB.before.call(av,aB);ay();D();Q(aB.curr+1,aB);V(s,true);if(aB.closed&&aB.autoCenter&&h-s==0){ae.stop().animate({width:0,left:aB.pWidth},aB.speed,aB.easing);aa.stop().animate({left:aB.pWidth},aB.speed,aB.easing)}else{ae.stop().animate({width:0},aB.speedH,aB.easeIn)}ac.stop().animate({left:aB.pWidthH,width:aB.pWidthH,paddingLeft:aB.shadowBtmWidth},aB.speedH,aB.easeIn).animate({left:0,width:aB.pWidth,paddingLeft:0},aB.speedH);c.animate({left:aB.shadowBtmWidth},aB.speedH,aB.easeIn).animate({left:0},aB.speedH,aB.easeOut,function(){L()})}else{if(h<aB.curr&&h<aB.pTotal&&h>=0&&!aj){aj=true;s=aB.curr-h;aB.curr=h;aB.before.call(av,aB);ay();D();Q(aB.curr+1,aB);V(s,false);af.animate({left:aB.pWidth,width:0},aB.speed,aB.easing);N.animate({left:aB.pWidthN},aB.speed,aB.easing);if(aB.closed&&aB.autoCenter&&aB.curr==0){ah.animate({left:aB.pWidthH,width:aB.pWidthH},aB.speedH,aB.easeIn).animate({left:0,width:aB.pWidth},aB.speedH,aB.easeOut);ae.stop().animate({left:0},aB.speed,aB.easing)}else{ah.animate({left:aB.pWidthH,width:aB.pWidthH},aB.speedH,aB.easeIn).animate({left:aB.pWidth,width:aB.pWidth},aB.speedH,aB.easeOut)}am.animate({right:aB.shadowBtmWidth},aB.speedH,aB.easeIn).animate({right:0},aB.speedH,aB.easeOut,function(){L()})}}}});if(aB.next){al=b(aB.next);al.click(function(h){h.preventDefault();av.next()})}if(aB.prev){C=b(aB.prev);C.click(function(h){h.preventDefault();av.prev()})}if(aB.overlays){aq=b('<div class="b-overlay b-overlay-prev b-prev" title="Previous Page"></div>').appendTo(X);ar=b('<div class="b-overlay b-overlay-next b-next" title="Next Page"></div>').appendTo(X);t=X.find(".b-overlay");if(b.browser.msie){t.css({background:"#fff",filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0) !important"})}}if(aB.tabs){ao=b('<div class="b-tab b-tab-prev b-prev" title="Previous Page">Previous</div>').appendTo(X);ap=b('<div class="b-tab b-tab-next b-next" title="Next Page">Next</div>').appendTo(X);W=X.find(".b-tab");if(aB.tabWidth){W.width(aB.tabWidth)}if(aB.tabHeight){W.height(aB.tabHeight)}W.css({top:"-"+ap.outerHeight()+"px"});X.css({marginTop:ap.outerHeight()});if(aB.direction=="RTL"){ap.html("Previous").attr("title","Previous Page");ao.html("Next").attr("title","Next Page")}}else{X.css({marginTop:0})}if(aB.arrows){F=b('<div class="b-arrow b-arrow-prev b-prev" title="Previous Page"><div>Previous</div></div>').appendTo(X);H=b('<div class="b-arrow b-arrow-next b-next" title="Next Page"><div>Next</div></div>').appendTo(X);q=X.find(".b-arrow");if(aB.direction=="RTL"){H.html("<div>Previous</div>").attr("title","Previous Page");F.html("<div>Next</div>").attr("title","Next Page")}}f=X.find(".b-next");d=X.find(".b-prev");f.click(function(h){h.preventDefault();av.next()});d.click(function(h){h.preventDefault();av.prev()});if(aB.hovers){f.hover(function(){if(!aj&&aB.curr+2<=aB.pTotal-2){ae.stop().animate({width:aB.pWidth-40},500,aB.easing);if(aB.closed&&aB.autoCenter&&aB.curr==0){ac.stop().animate({left:aB.pWidth-50,width:40},500,aB.easing)}else{ac.stop().animate({left:aB.width-50,width:40},500,aB.easing)}c.stop().animate({left:10},500,aB.easing);G=true}},function(){if(!aj&&aB.curr+2<=aB.pTotal-2){ae.stop().animate({width:aB.pWidth},500,aB.easing);if(aB.closed&&aB.autoCenter&&aB.curr==0){ac.stop().animate({left:aB.pWidth,width:0},500,aB.easing)}else{ac.stop().animate({left:aB.width,width:0},500,aB.easing)}c.stop().animate({left:0},500,aB.easing);G=false}});d.hover(function(){if(!aj&&aB.curr-2>=0){af.stop().animate({left:10,width:aB.pWidth-10},400,aB.easing);N.stop().animate({left:"-10px"},400,aB.easing);ah.stop().animate({left:10,width:40},400,aB.easing);am.stop().animate({right:10},400,aB.easing);S=true}},function(){if(!aj&&aB.curr-2>=0){af.stop().animate({left:0,width:aB.pWidth},400,aB.easing);N.stop().animate({left:0},400,aB.easing);ah.stop().animate({left:0,width:0},400,aB.easing);am.stop().animate({right:0},400,aB.easing);S=false}})}if(aB.arrows){if(aB.arrowsHide){if(b.support.opacity){f.hover(function(){H.find("div").stop().fadeTo("fast",1)},function(){H.find("div").stop().fadeTo("fast",0)});d.hover(function(){F.find("div").stop().fadeTo("fast",1)},function(){F.find("div").stop().fadeTo("fast",0)})}else{f.hover(function(){H.find("div").show()},function(){H.find("div").hide()});d.hover(function(){F.find("div").show()},function(){F.find("div").hide()})}}else{H.find("div").show();F.find("div").show()}}if(aB.keyboard){b(document).keyup(function(h){if(h.keyCode==37){av.prev()}else{if(h.keyCode==39){av.next()}}})}if(aB.hash){g();clearInterval(R);R=setInterval(function(){ab()},250)}if(aB.wPercent||aB.hPercent){b(window).resize(function(){Z()})}if(aB.auto&&aB.delay){clearTimeout(Y);Y=setTimeout(function(){av.next()},aB.delay);e=true;if(aB.pause){pause=b(aB.pause);pause.click(function(h){h.preventDefault();if(e){clearTimeout(Y);e=false}})}if(aB.play){play=b(aB.play);play.click(function(h){h.preventDefault();if(!e){clearTimeout(Y);Y=setTimeout(function(){av.next()},aB.delay);e=true}})}}ag();D();ay();function m(){if((E.children().length%2)!=0){if(aB.closed&&aB.covers){E.children().last().before(az)}else{E.children().last().after(az)}}if(aB.closed){b(aw).attr({title:aB.closedFrontTitle||"Beginning",rel:aB.closedFrontChapter||"Beginning of Book"}).prependTo(E);E.children().last().attr({title:aB.closedBackTitle||"End",rel:aB.closedBackChapter||"End of Book"});E.append(aw)}if(aB.direction=="LTR"){M=0}else{M=E.children().length;if(aB.closed){M-=2}if(aB.covers){M-=2}b(E.children().get().reverse()).each(function(){b(this).appendTo(E)})}E.children().each(function(h){if(b(this).attr("rel")){O[h]=b(this).attr("rel")}else{O[h]=""}aC[h]=b(this).attr("title");if(b(this).hasClass("b-page-empty")){b(this).wrap('<div class="b-page"><div class="b-wrap"></div></div>')}else{if(aB.closed&&aB.covers&&(h==1||h==E.children().length-2)){b(this).wrap('<div class="b-page"><div class="b-wrap b-page-cover"></div></div>')}else{if(h%2!=0){b(this).wrap('<div class="b-page"><div class="b-wrap b-wrap-right"></div></div>')}else{b(this).wrap('<div class="b-page"><div class="b-wrap b-wrap-left"></div></div>')}}}b(this).parents(".b-page").addClass("b-page-"+h).data("page",h);if(aB.pageNumbers&&!b(this).hasClass("b-page-empty")&&(!aB.closed||(aB.closed&&!aB.covers)||(aB.closed&&aB.covers&&h!=1&&h!=E.children().length-2))){if(aB.direction=="LTR"){M++}b(this).parent().append('<div class="b-counter">'+(M)+"</div>");if(aB.direction=="RTL"){M--}}})}function k(){b(".b-shadow-f, .b-shadow-b, .b-p0, .b-p3").css({filter:"",zoom:""});X.find(".b-shadow-b, .b-shadow-f").remove();at.attr("style","");at.css({left:0,width:aB.pWidth-(aB.pagePadding*2),height:aB.pHeight-(aB.pagePadding*2),padding:aB.pagePadding});am.css({right:0,left:"auto"});af.css({left:0,width:aB.pWidth,height:aB.pHeight});ae.css({left:aB.pWidth,width:aB.pWidth,opacity:1,height:aB.pHeight});J.css({left:0,width:aB.pWidth,height:aB.pHeight});ah.css({left:0,width:0,height:aB.pHeight});ac.stop().css({left:aB.pWidth*2,width:0,height:aB.pHeight,paddingLeft:0});aa.css({left:aB.pWidth,width:aB.pWidth,height:aB.pHeight});if(aB.closed&&aB.autoCenter&&aB.curr==0){J.css({left:0});af.css({left:aB.pWidthN});ae.css({left:0});ac.css({left:aB.pWidth});aa.css({left:0})}if(aB.closed&&aB.autoCenter&&(aB.curr==0||aB.curr>=aB.pTotal-2)){if(aB.overlays){t.width("100%")}X.width(aB.pWidth)}else{if(aB.overlays){t.width("50%")}X.width(aB.width)}}function Z(){if(aB.wPercent){aB.width=(aB.wOrig.replace("%","")/100)*parseFloat(X.parent().css("width"));X.width(aB.width);aB.pWidth=aB.width/2;aB.pWidthN="-"+(aB.pWidth)+"px";aB.pWidthH=aB.pWidth/2}if(aB.hPercent){aB.height=(aB.hOrig.replace("%","")/100)*parseFloat(X.parent().css("height"));X.height(aB.height);aB.pHeight=aB.height}k()}function ag(){if(an){if(af.data("page")-1<0){E.prepend(ae.detach());E.prepend(af.detach())}else{X.find(".b-page-"+(af.data("page")-1)).after(af.detach());X.find(".b-page-"+(ae.data("page")-1)).after(ae.detach())}if(ac.data("page")-1<=aB.pTotal){X.find(".b-page-"+(ac.data("page")-1)).after(ac.detach());X.find(".b-page-"+(aa.data("page")-1)).after(aa.detach())}if(J.data("page")-1>=0){X.find(".b-page-"+(J.data("page")-1)).after(J.detach());X.find(".b-page-"+(ah.data("page")-1)).after(ah.detach())}else{E.prepend(J.detach());J.after(ah.detach())}}X.find(".b-page").removeClass("b-pN b-p0 b-p1 b-p2 b-p3 b-p4").hide();if(aB.curr-2>=0){X.find(".b-page-"+(aB.curr-2)).addClass("b-pN").show();X.find(".b-page-"+(aB.curr-1)).addClass("b-p0").show()}X.find(".b-page-"+(aB.curr)).addClass("b-p1").show();X.find(".b-page-"+(aB.curr+1)).addClass("b-p2").show();if(aB.curr+3<=aB.pTotal){X.find(".b-page-"+(aB.curr+2)).addClass("b-p3").show();X.find(".b-page-"+(aB.curr+3)).addClass("b-p4").show()}J=X.find(".b-pN");ah=X.find(".b-p0");af=X.find(".b-p1");ae=X.find(".b-p2");ac=X.find(".b-p3");aa=X.find(".b-p4");aD=X.find(".b-pN .b-wrap");am=X.find(".b-p0 .b-wrap");N=X.find(".b-p1 .b-wrap");w=X.find(".b-p2 .b-wrap");c=X.find(".b-p3 .b-wrap");ax=X.find(".b-p4 .b-wrap");at=X.find(".b-wrap");k();if(aB.curr+3<=aB.pTotal){ac.after(ah.detach());af.after(aa.detach())}else{ah.detach().appendTo(E)}an=true}function V(i,h){if(h&&i>2){X.find(".b-page-"+(ac.data("page")-1)).after(ac.detach());X.find(".b-page-"+(aa.data("page")-1)).after(aa.detach());X.find(".b-p3, .b-p4").removeClass("b-p3 b-p4").hide();X.find(".b-page-"+aB.curr).addClass("b-p3").show().stop().css({left:aB.pWidth*2,width:0,height:aB.pHeight,paddingLeft:0});X.find(".b-page-"+(aB.curr+1)).addClass("b-p4").show().css({left:aB.pWidth,width:aB.pWidth,height:aB.pHeight});X.find(".b-page-"+aB.curr+" .b-wrap").show().css({width:aB.pWidth-(aB.pagePadding*2),height:aB.pHeight-(aB.pagePadding*2),padding:aB.pagePadding});X.find(".b-page-"+(aB.curr+1)+" .b-wrap").show().css({width:aB.pWidth-(aB.pagePadding*2),height:aB.pHeight-(aB.pagePadding*2),padding:aB.pagePadding});ac=X.find(".b-p3");aa=X.find(".b-p4");c=X.find(".b-p3 .b-wrap");ax=X.find(".b-p4 .b-wrap");if(G){ac.css({left:aB.width-40,width:20,"padding-left":10})}af.after(aa.detach());ae.after(ac.detach())}else{if(!h&&i>2){X.find(".b-page-"+(J.data("page")-1)).after(J.detach());X.find(".b-page-"+(ah.data("page")-1)).after(ah.detach());X.find(".b-pN, .b-p0").removeClass("b-pN b-p0").hide();X.find(".b-page-"+aB.curr).addClass("b-pN").show().css({left:0,width:aB.pWidth,height:aB.pHeight});X.find(".b-page-"+(aB.curr+1)).addClass("b-p0").show().css({left:0,width:0,height:aB.pHeight});X.find(".b-page-"+aB.curr+" .b-wrap").show().css({width:aB.pWidth-(aB.pagePadding*2),height:aB.pHeight-(aB.pagePadding*2),padding:aB.pagePadding});X.find(".b-page-"+(aB.curr+1)+" .b-wrap").show().css({width:aB.pWidth-(aB.pagePadding*2),height:aB.pHeight-(aB.pagePadding*2),padding:aB.pagePadding});J=X.find(".b-pN");ah=X.find(".b-p0");aD=X.find(".b-pN .b-wrap");am=X.find(".b-p0 .b-wrap");if(S){ah.css({left:10,width:40});am.css({right:10})}ah.detach().appendTo(E)}}if(aB.closed){if(!h&&aB.curr==0){J.hide()}else{if(!h){J.show()}}if(h&&aB.curr>=aB.pTotal-2){aa.hide()}else{if(h){aa.show()}}}if(aB.shadows){X.find(".b-shadow-b, .b-shadow-f").remove();if(h){shadow=b('<div class="b-shadow-f"></div>').css({right:0,width:aB.pWidth,height:aB.pHeight}).appendTo(ac)}else{if(!h){shadow=b('<div class="b-shadow-b"></div>').appendTo(ah).css({left:0,width:aB.pWidth,height:aB.pHeight})}}if(b.support.opacity){shadow.animate({opacity:1},aB.speedH,aB.easeIn).animate({opacity:0},aB.speedH,aB.easeOut)}else{if(h){shadow.animate({right:aB.shadowTopFwdWidth},aB.speed,aB.easeIn)}else{shadow.animate({left:aB.shadowTopBackWidth},aB.speed,aB.easeIn)}}}if(aB.closed&&aB.autoCenter){if(aB.curr==0){ac.hide();aa.hide();X.animate({width:aB.pWidth},aB.speed,aB.easing)}else{if(aB.curr>=aB.pTotal-2){ah.hide();J.hide();X.animate({width:aB.pWidth},aB.speed,aB.easing)}else{X.animate({width:aB.width},aB.speed,aB.easing)}}}}function L(){ag();ay();D();aB.after.call(av,aB);aj=false;if(aB.auto&&aB.delay){if(e&&aB.curr<aB.pTotal-2){clearTimeout(Y);Y=setTimeout(function(){av.next()},aB.delay)}if(aB.curr>=aB.pTotal-2){e=false}}}function D(){if(aB.overlays||aB.tabs||aB.arrows){if(b.support.opacity){if(aB.curr<aB.pTotal-2){f.fadeIn("fast").css("cursor",aB.cursor)}else{f.fadeOut("fast").css("cursor","default")}if(aB.curr>=2&&aB.curr!=0){d.fadeIn("fast").css("cursor",aB.cursor)}else{d.fadeOut("fast").css("cursor","default")}}else{if(aB.curr<aB.pTotal-2){f.show().css("cursor",aB.cursor)}else{f.hide().css("cursor","default")}if(aB.curr>=2&&aB.curr!=0){d.show().css("cursor",aB.cursor)}else{d.hide().css("cursor","default")}}}}function ay(){if(aB.pageSelector){if(aB.direction=="RTL"){nums=(Math.abs(aB.curr-aB.pTotal)-1)+" - "+((Math.abs(aB.curr-aB.pTotal)));if(aB.closed){if(aB.curr==aB.pTotal-2){nums="1"}else{if(aB.curr==0){nums=aB.pTotal-2}else{nums=(Math.abs(aB.curr-aB.pTotal)-2)+" - "+((Math.abs(aB.curr-aB.pTotal)-1))}}if(aB.covers){if(aB.curr==aB.pTotal-2){nums=""}else{if(aB.curr==0){nums=""}else{nums=(Math.abs(aB.curr-aB.pTotal)-3)+" - "+((Math.abs(aB.curr-aB.pTotal)-2))}}}}b(aB.menu+" .b-selector-page .b-current").text(nums)}else{nums=(aB.curr+1)+" - "+(aB.curr+2);if(aB.closed){if(aB.curr==0){nums="1"}else{if(aB.curr==aB.pTotal-2){nums=aB.pTotal-2}else{nums=(aB.curr)+"-"+(aB.curr+1)}}if(aB.covers){if(aB.curr==0){nums=""}else{if(aB.curr==aB.pTotal-2){nums=""}else{nums=(aB.curr-1)+"-"+(aB.curr)}}}}b(aB.menu+" .b-selector-page .b-current").text(nums)}}if(aB.chapterSelector){if(O[aB.curr]!=""){b(aB.menu+" .b-selector-chapter .b-current").text(O[aB.curr])}else{if(O[aB.curr+1]!=""){b(aB.menu+" .b-selector-chapter .b-current").text(O[aB.curr+1])}}if(aB.direction=="RTL"&&O[aB.curr+1]!=""){b(aB.menu+" .b-selector-chapter .b-current").text(O[aB.curr+1])}else{if(O[aB.curr]!=""){b(aB.menu+" .b-selector-chapter .b-current").text(O[aB.curr])}}}}function g(){T=B();if(!isNaN(T)&&T<=aB.pTotal-1&&T>=0&&T!=""){if((T%2)!=0){T--}aB.curr=T}else{Q(aB.curr+1,aB)}av.hash=T}function ab(){T=B();if(!isNaN(T)&&T<=aB.pTotal-1&&T>=0){if(T!=aB.curr&&T.toString()!=av.hash){if((T%2)!=0){T--}document.title=aB.name+" - Page "+(T+1);if(!aj){av.gotoPage(T);av.hash=T}}}}function B(){var h=window.location.hash.split("/");if(h.length>1){return parseInt(h[2])-1}else{return""}}function Q(i,h){if(h.hash){window.location.hash="/page/"+i}}}b.fn.booklet.interfaces=[];b.fn.booklet.defaults={name:null,width:600,height:400,speed:1000,direction:"LTR",startingPage:0,easing:"easeInOutQuad",easeIn:"easeInQuad",easeOut:"easeOutQuad",closed:false,closedFrontTitle:null,closedFrontChapter:null,closedBackTitle:null,closedBackChapter:null,covers:false,autoCenter:false,pagePadding:10,pageNumbers:true,hovers:true,overlays:true,tabs:false,tabWidth:60,tabHeight:20,arrows:false,arrowsHide:false,cursor:"pointer",hash:false,keyboard:true,next:null,prev:null,auto:false,delay:5000,pause:null,play:null,menu:null,pageSelector:false,chapterSelector:false,shadows:true,shadowTopFwdWidth:166,shadowTopBackWidth:166,shadowBtmWidth:50,before:function(){},after:function(){}}})(jQuery);